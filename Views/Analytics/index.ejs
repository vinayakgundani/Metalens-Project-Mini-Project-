<link rel="stylesheet" href="/CSS/analytics.css">

<h2 class="analytics-title">Image Metadata Analyzer</h2>

<!-- Upload Form -->
<% if (!meta) { %>
<div class="upload-section">
    <div class="upload-box">

        <form id="analyzeForm" action="/analytics/analyze" method="POST" enctype="multipart/form-data">
            <label class="upload-label">Select an Image</label>
            <input type="file" name="image" required class="form-control upload-input">

            <button class="analyze-btn">Analyze</button>

            <div id="loader" class="loader hidden"></div>
        </form>

    </div>
</div>
<% } %>

<!-- Result Section -->
<% if (meta) { %>

<div class="result-container mt-5">

    <div class="image-card">
        <img src="<%= imageUrl %>" class="preview-image">
    </div>

    <div class="meta-card">
        <h3 class="meta-title">Metadata Details</h3>

        <ul class="meta-list">
            <li><b>Name:</b> <%= meta.name %></li>
            <li><b>Size:</b> <%= meta.size %></li>
            <li><b>Format:</b> <%= meta.format %></li>
            <li><b>Dimensions:</b> <%= meta.width %> Ã— <%= meta.height %> px</li>
            <li><b>Megapixels:</b> <%= meta.megapixels %></li>
            <li><b>Aspect Ratio:</b> <%= meta.aspectRatio %></li>
            <li><b>Orientation:</b> <%= meta.orientation %></li>
            <li><b>Color Space:</b> <%= meta.colorSpace %></li>
            <li><b>Bit Depth:</b> <%= meta.bitDepth %></li>
            <li><b>Channels:</b> <%= meta.channels %></li>
            <li><b>Has Alpha:</b> <%= meta.hasAlpha %></li>
            <li><b>Density (DPI):</b> <%= meta.density %></li>
        </ul>
    </div>

</div>

<% } %>

<script src="/JS/analytics.js"></script>
